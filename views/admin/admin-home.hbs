

  <!-- ======= Header ======= -->
  



  <main id="main" class="main">

    <div class="pagetitle">
      <h1>Dashboard</h1>
   
    </div><!-- End Page Title -->

    <section class="section dashboard">
      <div class="row">

        <!-- Left side columns -->
       

        <div class="col-12">
              <div class="card">

                <div class="filter">
                  <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                    <li class="dropdown-header text-start">
                      <h6>Filter</h6>
                    </li>

                    <li><button class="dropdown-item" onclick="dailySales()" >daily</button></li>
                    <li><button class="dropdown-item" onclick="monthlySale()" >This Month</button></li>
                    <li><button class="dropdown-item" onclick="yearlySales()">This Year</button></li>
                  </ul>
                </div>

                <div class="card-body">
                  <h5 class="card-title">Reports <span>/Today</span></h5>

                  <!-- Line Chart -->
                  <canvas id="line-chart" width="800" height="450"></canvas>    

                </div>
               


              </div>
               <div class="card-body">
                  <h5 class="card-title">Reports <span>/Today</span></h5>

                  <!-- Line Chart -->
                  <canvas id="line-chartP" width="800" height="450"></canvas>    

                </div>
            </div><!-- End Reports -->

              

          

        </div><!-- End Right side columns -->
     
      </div>
    </section>

  </main><!-- End #main -->

  <script>


	var myChart;
    var myChart2;
    var myChart3;
    var chart1;
    var chart2;
    var chart3;
	var myChartPayment;
    window.onload = (event) => {
      dailySales()
      Payment()

    };


/* <------------------------------------------------------Weekly report---------------------------------------------------------------> */


                    
    function dailySales(){
      chart1=true
      const data = {
        labels: [
          {{#each dailySales}}'{{_id}}',{{/each}}
        ],
        datasets: [{
          label: 'Total Sale Amount',
          data: [{{#each dailySales}}'{{dailySales}}',{{/each}}],
          backgroundColor: [
            'rgb(103 119 239)',
            'rgb(102 187 106)',
            'rgb(54, 162, 235)',
            'rgb(255, 99, 132)'
          ]
        }]
      };
      // </block:setup>

      // <block:config:0>
      const config = {
        type: 'bar',
        data: data,
        options: {
          aspectRatio:3,
          responsive:true
        }
      };

      if(chart2){
         myChart2.destroy()  
      }
      if(chart3){
        myChart3.destroy() 
      }
    
      myChart = new Chart(document.getElementById('line-chart'), config)
      
       
       
    }  

/* <---------------------------------------------------Weekly report ends------------------------------------------------------------> */




                                                      /* <--Monthly report--> */

                    
    function monthlySale(){
		

      chart2=true

      const data = {
        labels: [
          {{#each monthlySales}}'{{_id}}',{{/each}}
        ],
        datasets: [{
          label: 'Total Sale Amount',
          data: [{{#each monthlySales}}'{{monthlySales}}',{{/each}}],
          backgroundColor: [
            'rgb(103 119 239)',
            'rgb(102 187 106)',
            'rgb(54, 162, 235)',
            'rgb(255, 99, 132)'
          ]
        }]
      };
      // </block:setup>

      // <block:config:0>
      const config = {
        type: 'line',
        data: data,
        options: {
          aspectRatio:3,
          responsive:true
        }
      };            

        if(chart1){
        myChart.destroy() 
      }
      if(chart3){
        myChart3.destroy() 
      }
         
      myChart2 = new Chart(document.getElementById('line-chart'), config)
      
          
     
    } 


/* <---------------------------------------------------Monthly report ends------------------------------------------------------------> */




    function yearlySales(){
		

      chart3=true

      const data = {
        labels: [
          {{#each yearlySales}}'{{_id}}',{{/each}}
        ],
        datasets: [{
          label: 'Total Sale Amount',
          data: [{{#each yearlySales}}'{{yearlySales}}',{{/each}}],
          backgroundColor: [
            'rgb(103 119 239)',
            'rgb(102 187 106)',
            'rgb(54, 162, 235)',
            'rgb(255, 99, 132)'
          ]
        }]
      };
      // </block:setup>

      // <block:config:0>
      const config = {
        type: 'line',
        data: data,
        options: {
          aspectRatio:3,
          responsive:true
        }
      };            
      if(chart1){
        myChart.destroy() 
      }
      if(chart2){
        myChart2.destroy() 
      }

     myChart3 = new Chart(document.getElementById('line-chart'), config)
    }
    

    function Payment(){  

      const data = {
        labels: [{{#each cod}}'{{_id}}',{{/each}}{{#each razor}}'{{_id}}',{{/each}}{{#each paypal}}'{{_id}}',{{/each}}],
        datasets: [{
          label: 'Total Sale Amount',
          data: [{{#each cod}}'{{count}}',{{/each}}{{#each razor}}'{{count}}',{{/each}}{{#each paypal}}'{{count}}',{{/each}}],
          backgroundColor: [
            'rgb(103 119 239)',
            'rgb(102 187 106)',
            'rgb(54, 162, 235)',
            'rgb(255, 99, 132)'
          ]
        }]
      };
     
      const config = {
        type: 'pie',
        data: data,
        options: {
          aspectRatio:3,
          responsive:true
        }
      };            
     

     myChartPayment = new Chart(document.getElementById('line-chartP'), config)
    }


</script>


